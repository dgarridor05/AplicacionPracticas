{% extends "base.html" %}
{% block title %}Panel del Alumno{% endblock %}

{% block content %}
<div class="container py-3 py-md-4">
  <div class="text-center mb-4 mb-md-5">
    <h1 class="display-5 fw-bold text-success mt-2">¬°Hola, {{ user.username }}! üëã</h1>
    <p class="lead text-muted fs-6">Explora tu grupo y divi√©rtete aprendiendo.</p>
  </div>

  <div class="row g-3 g-lg-4">
    <div class="col-lg-4 order-2 order-lg-1">
      <div class="card shadow-sm border-0 rounded-4">
        <div class="card-header bg-white py-3 border-0">
          <h5 class="mb-0 fw-bold text-center text-primary"><i class="fas fa-user-cog me-2"></i>Mi Cuenta</h5>
        </div>
        <div class="card-body p-3">
          
          <div class="d-none d-lg-block mb-3">
            <div class="list-group list-group-flush text-center">
              <a href="{% url 'view_profile' %}" class="list-group-item list-group-item-action border-0 py-2 fw-bold text-primary">
                <i class="fas fa-id-card me-2"></i>Mi Perfil
              </a>
              <a href="{% url 'classmates_list' %}" class="list-group-item list-group-item-action border-0 py-2 fw-bold text-success">
                <i class="fas fa-users me-2"></i>Compa√±eros
              </a>
            </div>
          </div>

          <div class="d-lg-none row g-2 mb-2">
            <div class="col-6">
              <a href="{% url 'view_profile' %}" class="btn btn-outline-primary border-2 rounded-4 w-100 py-2">
                <i class="fas fa-id-card d-block mb-1"></i>
                <span class="small fw-bold">Perfil</span>
              </a>
            </div>
            <div class="col-6">
              <a href="{% url 'classmates_list' %}" class="btn btn-outline-success border-2 rounded-4 w-100 py-2">
                <i class="fas fa-users d-block mb-1"></i>
                <span class="small fw-bold">Compais</span>
              </a>
            </div>
          </div>

          <div class="d-grid gap-2">
            <a href="{% url 'join_group' %}" class="btn btn-primary rounded-pill shadow-sm">
              <i class="fas fa-plus-circle me-2"></i>Unirse a Clase
            </a>
          </div>

          <div class="bg-light rounded-4 p-3 mt-3 text-center">
            <p class="small text-muted mb-2 fw-bold text-uppercase">Tests de Personalidad</p>
            <div class="d-grid gap-2">
                <a href="{% url 'take_vark_quiz' %}" class="btn btn-sm btn-info text-white rounded-pill">VARK: Hacer Test</a>
                <a href="{% url 'take_chapman_quiz' %}" class="btn btn-sm btn-outline-info rounded-pill">Chapman: Hacer Test</a>
            </div>
          </div>

          <div class="text-center">
            <a href="{% url 'logout' %}" class="btn btn-link text-danger mt-2 btn-sm text-decoration-none">Cerrar sesi√≥n</a>
          </div>
        </div>
      </div>
    </div>

    <div class="col-lg-8 order-1 order-lg-2">
      <div class="d-flex align-items-center mb-3">
        <h3 class="fw-bold m-0 fs-4">üïπÔ∏è Minijuegos</h3>
        <span class="badge rounded-pill bg-warning text-dark ms-2 badge-pulse">¬°NUEVO!</span>
      </div>

      <div class="row g-3">
        <div class="col-md-6">
          <div class="card h-100 border-0 shadow-sm text-white overflow-hidden game-card"
               style="background: linear-gradient(135deg, #6a11cb, #2575fc);">
            <div class="card-body p-4 z-1 position-relative">
              <h5 class="fw-bold mb-1">¬øQui√©n es qui√©n?</h5>
              <p class="small opacity-75 mb-3">Adivina por la foto.</p>
              <a href="{% url 'face_guess_game' %}" class="btn btn-glass btn-sm fw-bold rounded-pill px-4">Jugar</a>
            </div>
            <i class="fas fa-camera-retro card-icon"></i>
          </div>
        </div>

        <div class="col-md-6">
          <div class="card h-100 border-0 shadow-sm text-white overflow-hidden game-card"
               style="background: linear-gradient(135deg, #4e73df, #224abe);">
            <div class="card-body p-4 z-1 position-relative">
              <h5 class="fw-bold mb-1">Ponle Nombre</h5>
              <p class="small opacity-75 mb-3">¬øReconoces el nombre?</p>
              <a href="{% url 'name_to_face_game' %}" class="btn btn-glass btn-sm fw-bold rounded-pill px-4">Jugar</a>
            </div>
            <i class="fas fa-id-badge card-icon"></i>
          </div>
        </div>

        <div class="col-md-6">
          <div class="card h-100 border-0 shadow-sm text-white overflow-hidden game-card"
               style="background: radial-gradient(circle at top left, #2c3e50, #000000) !important; border: 4px solid #5d4037 !important;">
            <div class="card-body p-4 z-1 position-relative">
              <h5 class="fw-bold mb-1 chalk-text" style="font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; letter-spacing: 1px;">
                El Ahorcado
              </h5>
              <p class="small opacity-75 mb-3">¬øPodr√°s salvarlo letra a letra?</p>
              <a href="{% url 'hangman_game' %}" class="btn btn-glass btn-sm fw-bold rounded-pill px-4">
                Escribir Tiza
              </a>
            </div>
            <i class="fas fa-chalkboard position-absolute end-0 bottom-0 mb-n3 me-n2 opacity-20"
               style="font-size: 5rem; transform: rotate(-10deg);"></i>
          </div>
        </div>

        <div class="col-md-6">
          <div class="card h-100 border-0 shadow-sm text-white overflow-hidden game-card"
               style="background: linear-gradient(135deg, #191414, #1DB954);">
            <div class="card-body p-4 z-1 position-relative">
              <h5 class="fw-bold mb-1">Mel√≥manos</h5>
              <p class="small opacity-75 mb-3">M√∫sica de tus compa√±eros.</p>
              <a href="{% url 'spotify_guess_game' %}" class="btn btn-glass btn-sm fw-bold rounded-pill px-4">Escuchar</a>
            </div>
            <i class="fab fa-spotify card-icon"></i>
          </div>
        </div>

        <div class="col-md-6">
          <div class="card h-100 border-0 shadow-sm text-white overflow-hidden game-card"
               style="background: linear-gradient(135deg, #f39c12, #d35400);">
            <div class="card-body p-4 z-1 position-relative">
              <h5 class="fw-bold mb-1">Dino Run üåµ</h5>
              <p class="small opacity-75 mb-3">¬°R√©cord de saltos!</p>
              <a href="{% url 'dino_game' %}" class="btn btn-glass btn-sm fw-bold rounded-pill px-4">Saltar</a>
            </div>
            <i class="fas fa-running card-icon"></i>
          </div>
        </div>

        <!--<div class="col-md-6">
          <div class="card h-100 border-0 shadow-sm text-white overflow-hidden game-card shadow-lg"
               style="background: linear-gradient(135deg, #8e0000, #ff0000);">
            <div class="card-body p-4 z-1 position-relative opacity-50 blur-effect">
              <h5 class="fw-bold mb-1">El Impostor</h5>
              <p class="small mb-3">Busca la infiltrada.</p>
              <button class="btn btn-glass btn-sm rounded-pill px-4 disabled">Pr√≥ximamente</button>
            </div>
            <i class="fas fa-user-secret card-icon"></i>
            <div class="position-absolute top-50 start-50 translate-middle z-2 w-100 text-center">
              <span class="badge bg-white text-danger py-2 px-3 shadow fs-6 fw-black promo-stamp">PROXIMAMENTE</span>
            </div>
          </div>
        </div>
      </div> -->
      <div class="col-md-6">
          <div class="card h-100 border-0 shadow-sm text-white overflow-hidden game-card"
               style="background: linear-gradient(135deg, #8e0000, #ff0000);">
            <div class="card-body p-4 z-1 position-relative">
              <h5 class="fw-bold mb-1">El Impostor</h5>
              <p class="small opacity-75 mb-3">Busca la pista infiltrada.</p>
              <a href="{% url 'impostor_game' %}" class="btn btn-glass btn-sm fw-bold rounded-pill px-4">Detectar</a>
            </div>
            <i class="fas fa-user-secret card-icon"></i>
            </div>
        </div>

      <div class="col-12 text-center mt-4">
        <p class="text-muted small bg-light d-inline-block p-2 rounded-pill px-3">
          M√°s: <a href="{% url 'student_interests_game' %}" class="fw-bold text-decoration-none mx-1">Intereses</a> | 
          <a href="{% url 'student_complete_profile_game' %}" class="fw-bold text-decoration-none mx-1">Perfil</a>
        </p>
      </div>
    </div>
  </div>
</div>

<style>
  :root {
    --card-radius: 1.25rem;
  }

  .game-card {
    border-radius: var(--card-radius);
    transition: all 0.3s cubic-bezier(.25,.8,.25,1);
    min-height: 140px;
  }

  .game-card:hover {
    transform: translateY(-8px);
    box-shadow: 0 10px 20px rgba(0,0,0,0.2);
  }

  .card-icon {
    position: absolute;
    right: -10px;
    bottom: -10px;
    font-size: 4.5rem;
    opacity: 0.15;
    transform: rotate(-15deg);
    transition: transform 0.3s ease;
  }

  .game-card:hover .card-icon {
    transform: rotate(-5deg) scale(1.1);
  }

  .btn-glass {
    background: rgba(255, 255, 255, 0.2);
    backdrop-filter: blur(5px);
    border: 1px solid rgba(255, 255, 255, 0.3);
    color: white;
  }

  .btn-glass:hover {
    background: rgba(255, 255, 255, 0.4);
    color: white;
  }

  .blur-effect {
    filter: blur(2px);
  }

  .promo-stamp {
    transform: rotate(-10deg);
    border: 2px dashed #dc3545;
    letter-spacing: 1px;
  }

  .badge-pulse {
    animation: pulse-orange 2s infinite;
  }

  .chalk-text {
    text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.4), 
                 0 0 5px rgba(255, 255, 255, 0.2);
    letter-spacing: 1px;
  }

  @keyframes pulse-orange {
    0% { transform: scale(0.95); box-shadow: 0 0 0 0 rgba(255, 193, 7, 0.7); }
    70% { transform: scale(1); box-shadow: 0 0 0 10px rgba(255, 193, 7, 0); }
    100% { transform: scale(0.95); box-shadow: 0 0 0 0 rgba(255, 193, 7, 0); }
  }

  @media (max-width: 768px) {
    .display-5 { font-size: 1.8rem; }
    .game-card { min-height: 120px; }
    .card-icon { font-size: 3.5rem; }
    .order-1 { order: 1 !important; }
    .order-2 { order: 2 !important; }
  }
</style>
{% endblock %}